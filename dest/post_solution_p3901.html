<!--
题解 P3901 【数列找不同】
这题没人用st表吗？我发一个st表的题解。 预处理出每一个数在数列中出现的上一个位置（特别的，第一次出现的数，上一个位置为0）。 那么，一段区间[L,R]的数不重复，当且近当每一个数出现的上一个位置小于L，即数出现的上一个位置的最大值小于L。 于是我们可以用st表处理出区间最大值。
-->
<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>题解 P3901 【数列找不同】 -- Wycero's blog</title>
<link rel="stylesheet" type="text/css" href="wycero-1.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0-rc.1/katex.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0-rc.1/katex.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0-rc.1/contrib/auto-render.js"></script>
<link href="http://cdn.bootcss.com/highlight.js/8.0/styles/monokai_sublime.min.css" rel="stylesheet">  
<script src="http://cdn.bootcss.com/highlight.js/8.0/highlight.min.js"></script>  
<script >hljs.initHighlightingOnLoad();</script>  
<link href="icon.png" rel="Shortcut Icon">
</head>
<body id="body">
<div class="top-bar">
<a href="index.html" class="tpi icon-top"><img src="home.svg" class="svg"></img></a>
<p class="tpi">题解 P3901 【数列找不同】</p>
<a href="#" class="tpi icon-top"><img src="top.svg" class="svg"></img></a></div>
<br><br><br><br>
<p>这题没人用st表吗？我发一个st表的题解。 预处理出每一个数在数列中出现的上一个位置（特别的，第一次出现的数，上一个位置为0）。 那么，一段区间[L,R]的数不重复，当且近当每一个数出现的上一个位置小于L，即数出现的上一个位置的<strong>最大值</strong>小于L。 于是我们可以用st表处理出区间最大值。</p>
<pre><code class=cpp>#include&ltbits/stdc++.h&gt
#define rep(i,a,b) for(int i=a;i&lt=b;i++)
using namespace std;
int n,q;
int aa[100005];
int ton[100005];
int st[20][100005];
int main(){
	scanf(&quot%d%d&quot,&ampn,&ampq);
	rep(i,1,n)scanf(&quot%d&quot,aa+i);
	rep(i,1,n){
		st[0][i]=ton[aa[i]];
		ton[aa[i]]=i;
	}
	rep(i,1,19)rep(j,1,(n-(1&lt&lti)+1))
		st[i][j]=max(st[i-1][j],st[i-1][j+(1&lt&lti-1)]);
	rep(i,0,19){
	//	rep(j,1,(n-(1&lt&lti)+1))cout&lt&ltst[i][j]&lt&lt&quot &quot;;cout&lt&ltendl;
	}
	rep(i,1,q){
		int l,r;scanf(&quot%d%d&quot,&ampl,&ampr);
		int d=31-__builtin_clz(r-l+1);
		int ans=max(st[d][l],st[d][r-(1&lt&ltd)+1]);
		if(ans&gt=l)printf(&quotNo\n&quot);else printf(&quotYes\n&quot);
	}
	return 0;
}</pre></code><footer>
<script src="wycero-1.js"></script>
<p>Copyright 2019 wycero</p>
<p>Powered By: 
<a href="http://php.net">PHP</a>
<a href="https://katex.org">$\KaTeX$</a>
<a href="https://highlightjs.org/">Highlightjs</a></p>
<p>Hosted On coding.me</p>
</footer>
<script>
    renderMathInElement(document.body,
   {
              delimiters: [
                  {left: "$$", right: "$$", display: true},
                  {left: "$", right: "$", display: false},
                  {left: "\\(", right: "\\)", display: false}
              ]
          }
  );
</script>

</body>
</html>
